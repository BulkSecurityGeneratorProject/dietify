<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            Recipe
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <ion-list>
        <ion-item>
            <ion-label position="fixed">Name</ion-label>
            <div item-content>
                <span>{{recipe.name}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Preparation Time Minutes</ion-label>
            <div item-content>
                <span>{{recipe.preparationTimeMinutes}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Number Of Portions</ion-label>
            <div item-content>
                <span>{{recipe.numberOfPortions}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Image</ion-label>
            <div item-content>
                <div *ngIf="recipe.image">
                    <a (click)="openFile(recipe.imageContentType, recipe.image)">
                        <img [src]="'data:' + recipe.imageContentType + ';base64,' + recipe.image" style="max-width: 100%;" alt="recipe image"/>
                    </a>
                    {{recipe.imageContentType}}, {{byteSize(recipe.image)}}
                </div>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Author Id</ion-label>
            <div item-content>
                <span>{{recipe.authorId}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Creation Date</ion-label>
            <div item-content>
                <span>{{recipe.creationDate | date:'mediumDate'}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Last Edit Date</ion-label>
            <div item-content>
                <span>{{recipe.lastEditDate | date:'mediumDate'}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Is Visible</ion-label>
            <div item-content>
                <span>{{recipe.isVisible}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Language</ion-label>
            <div item-content>
                <span>{{recipe.language}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="fixed">Total Grams Weight</ion-label>
            <div item-content>
                <span>{{recipe.totalGramsWeight}}</span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label>Basic Nutrition Data</ion-label>
            <div item-content *ngIf="recipe.basicNutritionData">
                <a>{{recipe.basicNutritionData?.id}}</a>
            </div>
        </ion-item>
        <ion-item>
            <ion-label>Source Recipe</ion-label>
            <div item-content *ngIf="recipe.sourceRecipe">
                <a>{{recipe.sourceRecipe?.name}}</a>
            </div>
        </ion-item>
        <ion-item>
            <ion-label>Kitchen Appliances</ion-label>
            <div item-content>
                <span *ngFor="let kitchenAppliances of recipe.kitchenAppliances; let last = last">
                    <a>{{kitchenAppliances.name}}</a>{{last ? '' : ', '}}
                </span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label>Dish Types</ion-label>
            <div item-content>
                <span *ngFor="let dishTypes of recipe.dishTypes; let last = last">
                    <a>{{dishTypes.description}}</a>{{last ? '' : ', '}}
                </span>
            </div>
        </ion-item>
        <ion-item>
            <ion-label>Meal Types</ion-label>
            <div item-content>
                <span *ngFor="let mealTypes of recipe.mealTypes; let last = last">
                    <a>{{mealTypes.name}}</a>{{last ? '' : ', '}}
                </span>
            </div>
        </ion-item>
    </ion-list>

    <ion-button expand="block" color="primary" (click)="open(recipe)">{{ 'EDIT_BUTTON' | translate }}</ion-button>
    <ion-button expand="block" color="danger" (click)="deleteModal(recipe)">{{ 'DELETE_BUTTON' | translate }}</ion-button>

</ion-content>
