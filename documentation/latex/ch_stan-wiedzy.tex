% !TeX spellcheck = pl_PL
\chapter{Stan wiedzy i~techniki w~zakresie tematyki pracy}\label{ch:knowladge-state}
\section{Przegląd istniejących rozwiązań konkurencyjnych}\label{sec:competitive-solutions}
Na rynku Polskim funkcjonuje zaledwie kilka narzędzi wspomagających w kompleksowy sposób pracę dietetyka.
W niniejszej sekcji zostaną omówione systemy cieszące się największą popularnością oraz przedstawione zostanie zbiorcze porównanie ich najważniejszych cech.
W przypadku większości z porównywanych programów warunki korzystania z usługi pozwalają na rejestrację w systemie jedynie wykwalifikowanym dietetykom.
Z tego względu wszystkie analizowane dane zostały zebrane z publicznie dostępnych źródeł, takich jak strony odpowiednich programów, blogi internetowe, filmy promocyjne na platformie YouTube\cite{url:youtube}.
\todo{opisać rozwiązania konkurencyjne}
\todo{dodać linki pod obrazkami do odpowiednich filmów na youtube}
\begin{itemize}
    \item TiqDiet\cite{url:tiqdiet}

        Tiqdiet jest wygodnym w użyciu programem, który pozwala dietetykom w prosty sposób tworzyć jadłospisy i udostępniać je pacjentom.
        W celu uproszczenia pracy dietetyka, dostępnych jest wiele szablonów jadłospisów, które łatwo można dostosować do indywidualnych potrzeb pacjenta.
        Pacjent może odbierać ułożoną dietę poprzez responsywną stronę internetową, aplikację mobilną oraz za pomocą inteligentnego zegarka.
        Komunikacja pomiędzy pacjentem, a dietetykiem może odbywać się w czasie rzeczywistym za pomocą zintegrowanego chatu.

        Na Rys.\ref{fig:competitive-solution:tiqdiet} przedstawiono przykładowy widok edycji planu dnia w aplikacji Tiqdiet

        \imagewide[\cite{url:tiqdiet-youtube}]{img/competitive-solutions/tiqdiet.png}{TiqDiet}{competitive-solution:tiqdiet}
    \item Kcalmar PRO\cite{url:kcalmar}

        Kcalmar jest systemem, którego głównym założeniem jest maksymalne skrócenie czasu potrzebnego na stworzenie programu żywieniowego dopasowanego do potrzeb pacjenta.
        Zapewnia zaawansowany system podpowiedzi ułatwiający projektowanie zbilansowanej diety.
        Co ciekawe system pozwala również na wyszukiwanie dietetyków w wybranych miastach i filtrowanie ich według typów diet i jednostek chorobowych, w których się specjalizują.

        Na Rys.\ref{fig:competitive-solution:kcalmar} pokazano widok wygenerowanej listy zakupów dla jadłospisu zaprojektowanego w aplikacji Kcalmar.

        \imagewide[\cite{url:kcalmar-youtube}]{img/competitive-solutions/kcalmar.png}{Kcalmar PRO}{competitive-solution:kcalmar}
    \item Dietetyk Pro\cite{url:dietetyk-pro}

        Program Dietetyk Pro na tle konkurencji wyróżnia się tym, że poza główną funkcjonalnością układania jadłospisu, abonenci mogą również korzystać ze szkoleń eksperckich i literatury dietetycznej dostępnej w ramach platformy.
        Dodatkowo dietetycy po wykupieniu subskrypcji mogą skorzystać ze zdalnej pomocy z obsługi programu.
        Spośród porównywanych programów Dietetyk Pro posiada największe bazy produktów i przepisów wyprzedzając konkurencję niemal dwukrotnie.

        Na Rys.\ref{fig:competitive-solution:dietetyk-pro} przedstawiono widok edycji 4-dniowego jadłospisu w aplikacji Dietetyk Pro

        \imagewide[\cite{url:dietetyk-pro-youtube}]{img/competitive-solutions/dietetyk-pro.png}{Dietetyk Pro}{competitive-solution:dietetyk-pro}
    \item Aliant\cite{url:aliant}

        Do grupy klientów docelowych programu Aliant należą zarówno dietetycy jak również trenerzy personalni.
        Tak jak inne porównywane aplikacje, główną funkcjonalnością programu Aliant jest układanie jadłospisów,
        jednakże w przeciwieństwie do konkurencji, aplikacja jest dostępna tylko jako aplikacja na platformę Windows.
        Nie ma możliwości dostępu do systemu przez stronę internetową.
        Brakuje również zintegrowanego narzędzia do komunikacji z pacjentami, udostępnianie ułożonego jadłospisu musi odbywać się w całości poza systemem.

        Na Rys.\ref{fig:competitive-solution:aliant} zaprezentowano widok edycji tygodniowego jadłospisu w programie Aliant.
        Warto zauważyć, że dla każdego dnia w sposób graficzny przedstawiono czy zostały spełnione zaplanowane dzienne normy ilości podstawowych składników odżywczych.

        \imagewide[\cite{url:aliant-youtube}]{img/competitive-solutions/aliant.png}{Aliant}{competitive-solution:aliant}
    \item Dietico\cite{url:dietico}

        Program Dietico szczyci się stale powiększaną bazą przepisów i produktów.
        Pozwala na układanie jadłospisu za pomocą wygodnego interfejsu, a przejrzysty system podpowiedzi pozwala szybko wykryć powtarzające się dania oraz produkty na które pacjent jest uczulony.

        Na Rys.\ref{fig:competitive-solution:dietico} przedstawiono widok edycji tygodniowego jadłospisu wraz z graficznymi oznaczeniami produktów, na które pacjent jest uczulony.

        \imagewide[\cite{url:dietico-youtube}]{img/competitive-solutions/dietico.png}{Dietico}{competitive-solution:dietico}
    \item Vitme\cite{url:vitme}

        Program Vitme umożliwia prowadzenie kart pacjentów, projektowanie jadłospisów oraz generowanie wydruków w PDF.
        Program w porównaniu z konkurencją jest oferowany w bardzo korzystnej cenie oraz posiada bogatą bazę produktów, jednak stosunkowo niedużą bazę przepisów.
        Do wad produktu można zaliczyć przestarzały i mało przejrzysty interfejs, który może zniechęcić niektórych potencjalnych klientów.

        Na Rys.\ref{fig:competitive-solution:vitme} pokazano przykładowy widok kalendarza wizyt w aplikacji Vitme.

        \imagewide[\cite{url:vitme-youtube}]{img/competitive-solutions/vitme.png}{Vitme}{competitive-solution:vitme}
\end{itemize}

W tabeli \ref{tabela:rozwiazania-konkurencyjne-funkcjonalne} przedstawiono porównanie najważniejszych cech funkcjonalnych, a w tabeli \ref{tabela:rozwiazania-konkurencyjne-niefunkcjonalne} cech niefunkcjonalnych 6 istniejących na rynku rozwiązań konkurencyjnych.
Warto zwrócić uwagę, że funkcjonalności takie jak możliwość wykorzystania gotowych szablonów diet, wysyłanie diety do pacjenta, przeprowadzanie wywiadu żywieniowego czy automatyczne generowanie listy zakupów nie występują w niektórych spośród analizowanych systemów.
Na tej podstawie można wysunąć hipotezę, że te funkcjonalności - mino iż istotne - nie są kluczowe w systemie wspomagającym pracę dietetyka.
Natomiast możliwość tworzenia jadłospisów z wykorzystaniem własnych produktów i przepisów, zapisywanie ich do plików oraz przypisywanie do stosownych kart pacjenta są oczekiwane w tego typu aplikacji.

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Rozwiązania konkurencyjne~- cechy funkcjonalne (opr.wł)\label{tabela:rozwiazania-konkurencyjne-funkcjonalne}}
        \begin{tabular}{|P{.22\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|}
            \hline
                                                            & \cellgray{Tiqdiet}   & \cellgray{Kcalmar Pro}   & \cellgray{Dietetyk Pro} & \cellgray{Aliant}         & \cellgray{Dietico}   & \cellgray{Vitme}   \\ \hline
            \cellgray{Tworzenie jadłospisów}               & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Gotowe szablony diet}                & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellred{NIE}       & \cellred{NIE}     \\ \hline
            \cellgray{Zapis diety do pliku}                & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Wysyłanie diet do pacjenta}          & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellred{NIE}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Komunikacja z~pacjentem}             & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellred{NIE}            & \cellred{NIE}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Karta pacjenta}                      & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Wywiad żywieniowy}                   & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellred{NIE}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Lista zakupów}                       & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellred{NIE}     \\ \hline
            \cellgray{Dodawanie własnych produktów}        & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Dodawanie własnych przepisów}        & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellgreen{TAK}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
        \end{tabular}
    \end{table}
\end{minipage}

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Rozwiązania konkurencyjne~- cechy niefunkcjonalne (opr.wł)\label{tabela:rozwiazania-konkurencyjne-niefunkcjonalne}}
        \begin{tabular}{|P{.22\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|P{.09\textwidth}|}
            \hline
                                                            & \cellgray{Tiqdiet}   & \cellgray{Kcalmar Pro}   & \cellgray{Dietetyk Pro} & \cellgray{Aliant}         & \cellgray{Dietico}   & \cellgray{Vitme}   \\ \hline
            \cellgray{Liczba produktów w~bazie}            & 1000      & 1400          & 6000         & 3500           & 900       & 5000    \\ \hline
            \cellgray{Liczba gotowych przepisów}           & 200       & 800           & 2800         & 1700           & 1900      & 400     \\ \hline
            \cellgray{Praca offline}                       & \cellred{NIE}       & \cellred{NIE}           & \cellred{NIE}          & \cellgreen{TAK}            & \cellred{NIE}       & \cellred{NIE}     \\ \hline
            \cellgray{Praca online}                        & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellred{NIE}            & \cellgreen{TAK}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Aplikacja mobilna dla dietetyka}     & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellred{NIE}            & \cellred{NIE}       & \cellred{NIE}     \\ \hline
            \cellgray{Aplikacja mobilna dla pacjenta}      & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellred{NIE}          & \cellred{NIE}            & \cellred{NIE}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Dostęp dla pacjenta przez przeglądarkę internetową}       & \cellgreen{TAK}       & \cellgreen{TAK}           & \cellgreen{TAK}          & \cellred{NIE}            & \cellred{NIE}       & \cellgreen{TAK}     \\ \hline
            \cellgray{Darmowy okres testowy}               & 14dni     & 14dni         & 7dni         & bezter- minowo & 14dni     & 14dni   \\ \hline
            \cellgray{Cena w~abonamencie rocznym}          & 199       & 1188          & 246          & 699            & 546       & 219     \\ \hline
        \end{tabular}
    \end{table}
\end{minipage}

\section{Architektura mikroserwisów}\label{sec:usefull-technologies}

Tworzenie złożonych systemów informatycznych umożliwiających bezproblemowe korzystanie jednocześnie przez miliony użytkowników jest zadaniem niebanalnym.
W klasycznym podejściu, implementowano systemy w architekturze monolitycznej.
Aplikacja napisana w takiej architekturze jest samowystarczalna w kontekście jej zachowania.
Może komunikować się z zewnętrznymi usługami lub źródłami danych w celu wykonania operacji, ale logika biznesowa potrzebna do wykonania każdej operacji jest w całości zawarta w obrębie aplikacji.
W przypadku wystąpienia potrzeby skalowania horyzontalnego takiej aplikacji, konieczne jest duplikowanie całej aplikacji pomiędzy serwerami\cite{url:microsoft-web-architectures}.

\par
Architektura mikroserwisów, zgodnie z tym co sugeruje nazwa, skupia się na budowaniu aplikacji będącej zbiorem niewielkich, luźno powiązanych serwisów komunikujących się ze sobą na przykład za pomocą protokołu HTTP czy AMQP.
Serwisy implementowane i wdrażane są niezależnie od siebie\cite{book:dot-net-microservices}.
Efektem tworzenia niezależnych serwisów jest skalowanie tylko serwisów, które tego wymagają, co pozwala na optymalne wykorzystanie zasobów\cite{book:mastering-microservices-with-java9}.

\par
Architektura monolityczna ma wiele zalet\cite{book:microservices-patterns}, spośród których do najważniejszych należą:
\begin{itemize}
    \item Prostota implementacji
    \item Możliwość łatwego przeprowadzania radykalnych zmian w programie
    \item Prostota testowania
    \item Prostota wdrażania aplikacji na środowisko produkcyjne
    \item Prostota skalowania aplikacji
\end{itemize}

\par
Martin Fowler podkreśla, że w przypadku wielu aplikacji architektura monolityczna jest jak najbardziej wystarczająca,
a w przypadku gdy system jest wystarczająco złożony, żeby użycie mikroserwisów przyniosło realny zysk zwykle lepiej jest zacząć od monolitu,
a następnie przeprowadzić migrację do architektury mikroserwisów poprzez wydzielania modułów w obrębie monolitu i późniejsze przekształcanie ich w niezależne serwisy\cite{url:monolith-first}.

\par
W przypadku aplikacji monolitycznej łatwo jest doprowadzić do sytuacji w której poszczególne moduły są ze sobą ściśle powiązane, co zwykle ma bardzo negatywny wpływ na wydajność aplikacji, utrudnia wprowadzanie zmian w kodzie i prowadzi do występowania trudnych do wykrycia błędów w implementacji.
Sytuację w której w aplikacji powstaje dużo przypadkowych powiązań i zależności Vaughn Vernon określił mianem "Wielkiej Kuli Błota"\cite{book:ddd-kompendium}.

\par
Do głównych zalet zastosowania mikroserwisów należy stosowanie luźnego powiązania serwisów, co poniekąd wymusza, żeby zależności pomiędzy serwisami były bardziej przemyślane i lepiej zaprojektowane.
Z pomocą we właściwym zaprojektowaniu serwisów i zależności między nimi przychodzi strategiczne wzorce DDD.
Jednym z takich wzorców jest dekompozycja w oparciu poddziedziny\cite{book:ddd-evans}.
Dziedzina systemu jest dzielona na poddziedziny poprzez zdefiniowanie przestrzeni problemów biznesowych w obrębie względnie niezaleleżnych obszarów specjalizacji.
W przypadku architektury mikroserwisów można wyznaczyć poszczególne serwisy poprzez zdefiniowanie poddziedzin systemu i stworzenie serwisu dla każdej z nich\cite{book:microservices-patterns}.

%o potencjał biznesowy (ang. business capability), gdzie jako potencjał biznesowy należy rozumieć zdolność do wykonania konkretnego zadania biznesowego.
\section{Przegląd literatury dietetycznej}\label{sec:domain-literature}
\todo{uzupełnić literaturę}
%https://www.pum.edu.pl/__data/assets/pdf_file/0009/82881/Instrukcja-i-formularz-wywiadu-zywieniowego.pdf
%https://www.akademiadietetyki.pl/literatura-obowiazkowa-i-uzupelniajaca/
%http://www.uni.olsztyn.pl/wnm1/onkologia/index.php/dietetyka/rok-iii/literatura.html
%http://www.mckp.uj.edu.pl/cm/uploads/2017/08/7.-Zywienie-literatura.pdf

\thispagestyle{normal}
