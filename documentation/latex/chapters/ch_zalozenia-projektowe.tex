% !TeX spellcheck = pl_PL
\chapter{Założenia projektowe}\label{ch:design-assumptions}
\section{Uwagi wstępne}\label{sec:presumptions}
W niniejszym rozdziale opisano wizję systemu, który będzie wspomagał układanie diety.
\par
Zalogowani dietetycy będą mogli zarządzać produktami, ich wartościami odżywczymi oraz
miarami domowymi. Korzystając ze stworzonych produktów dietetycy będą mogli tworzyć
przepisy, a~następnie, w~ramach jadłospisu, dodawać do planów posiłków przepisy
i pojedyncze produkty.
\par
Dietetycy będą mogli również zarządzać pacjentami i~ich wizytami. W~ramach wizyty dietetyk
będzie mógł przeprowadzić wywiad żywieniowy, zebrać pomiary ciała pacjenta i~przydzielić
pacjentowi jadłospis.


\section{Słownik pojęć domenowych}\label{sec:dictionary}

Na podstawie rozważań z~rozdziału \ref{ch:knowladge-state} sporządzono następującą listę definicji istotną z~punkty widzenia projektu:
\begin{itemize}[series=atr, wide, align=left, leftmargin=190pt]
    \atr{Administrator}- użytkownik posiadający uprawnienia do zarządzania uprawnieniami użytkowników
    \atr{BIA}- metoda impedancji bioelektrycznej wykorzystywana do analizy składu ciała%todo metoda pomiaru ciała
    \atr{BMI}- wskaźnik masy ciała% todo
    \atr{CPM}- całkowita przemiana materii %todo source
    \atr{Dieta}- sposób odżywiania% todo
    \atr{Dietetyk}- specjalista w~dziedzinie dietetyki
    \atr{Jadłospis}- plan posiłków zdefiniowany na określoną liczbę dni z~uwzględnieniem określonych wymagań
    \atr{Karta pacjenta}- karta przedstawiająca przebieg współpracy dietetyka z~pacjentem
    \atr{MET}- ekwiwalent metaboliczny %todo
    \atr{Miara domowa}- definicja pospolitej miary, takiej jak np. łyżeczka w~gramach
    \atr{Pacjent}- klient dietetyka
    \atr{PAL}- współczynnik aktywności fizycznej
    \atr{Podstawowe wartości odżywcze}- energia, białko, tłuszcz, węglowodany%todo
    \atr{Pomiary ciała}- pomiary ciała pacjenta przeprowadzane przez dietetyka
    \atr{Posiłek}- posiłek jest przydzielany do jadłospisu; zawiera produkty i~przepisy
    \atr{PPM}- podstawowa przemiana materii %todo source
    \atr{Produkt}- produkt spożywczy, dla którego specyfikowane są wartości odżywcze i~miary domowe
    \atr{Przepis}- opis składników i~kroków przygotowania dania
    \atr{Sekcja przepisu}- semantyczny podział przepisu, np. sernik może mieć sekcje związane z~przygotowaniem ciasta, nadzienia i~polewy
    \atr{USDA}- Departament Rolnictwa Stanów Zjednoczonych% todo
    \atr{Wartość odżywcza}- ilość elementu takiego jak np. węglowodanów albo białka w~100g produktu
    \atr{Wizyta}- konkretna wizyta pacjenta
    \atr{Wywiad żywieniowy}- wywiad przeprowadzany z~pacjentem uwzględniający jego nawyki żywieniowe, nietolerancje, choroby, przyjmowane leki, itp.
\end{itemize}

\section{Sformułowanie problemu}\label{sec:problem-specification}

\par
W tabeli \ref{tabela:sformulowanie-problemu} przedstawiono sformułowanie rozważanego w~pracy problemu wraz z~jego wpływem i~propozycją pomyślnego rozwiązania.

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Sformułowanie problemu (opr.wł)\label{tabela:sformulowanie-problemu}}
        \begin{tabular}{|P{.2\textwidth}|P{.7\textwidth}|}

            \hline
            \cellgray{Problem} &
            \multicolumn{1}{|l|}{Problem z~ręcznym układaniem jadłospisu}\\
            \hline

            \cellgray{Dotyczy} &
            \multicolumn{1}{|l|}{Dietetyków}\\
            \hline

            \cellgray{Wpływ problemu} &
            \begin{itemize}
                \item Dietetyk poświęca dużo czasu na wyszukiwanie informacji o~każdym produkcie, którego potrzebuje wykorzystać w~układanym jadłospisie
                \item Dietetyk poświęca dużo czasu na obliczanie wartości odżywczych w~każdym przepisie
                \item Dietetyk poświęca dużo czasu na obliczanie wartości odżywczych w~każdym jadłospisie.
                \item Dietetyk ma problem z~przeliczeniem miar domowych produktów na gramy
            \end{itemize} \\
            \hline

            \cellgray{Pomyślne rozwiązanie} &
            \begin{itemize}
                \item Będzie zwalniało dietetyka z~konieczności obliczania wartości odżywczych dla przepisów i~jadłospisów
                \item Będzie ułatwiało dietetykowi przekazywanie stworzonego jadłospisu pacjentów
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}
\section{Pozycjonowanie produktu}\label{sec:product-positioning}

\par
W tabeli \ref{tabela:pozycjonowanie-produktu} przedstawiono pozycjonowanie opracowywanego produktu względem rynku produktów wspomagających pracę dietetyka.

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Pozycjonowanie produktu (opr.wł)\label{tabela:pozycjonowanie-produktu}}
        \begin{tabular}{|P{.2\textwidth}|P{.7\textwidth}|}

            \hline
            \cellgray{Dla} &
            \multicolumn{1}{|l|}{Dietetyka}\\
            \hline

            \cellgray{Który} &
            \multicolumn{1}{|l|}{Chce łatwiej zarządzać dietą}\\
            \hline

            \cellgray{Nazwa produktu} &
            \multicolumn{1}{|l|}{Webowa aplikacja wspomagająca układanie jadłospisu} \\
            \hline

            \cellgray{Który} &
            \multicolumn{1}{|l|}{Skraca czas potrzebny na ułożenie i~zarządzanie jadłospisami} \\
            \hline

            \cellgray{Inaczej niż} &
            \multicolumn{1}{|l|}{Kalkulator kalorii} \\
            \hline

            \cellgray{Nasz produkt} &
            \multicolumn{1}{|l|}{Skupia się na tworzeniu i~udostępnianiu jadłospisów} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\section{Dekompozycja problemu w~oparciu o~poddziedziny}\label{sec:problem-decomposition}
\par
Na podstawie wywiadu z~dietetykiem, analizy rozwiązań konkurencyjnych oraz opierając się
na opisanym w~rozdziale \ref{sec:usefull-technologies} wzorcu dekompozycji problemu w~oparciu o~poddziedziny
dla omawianej aplikacji wspomagania zarządzania dietą można wyszczególnić następujące poddziedziny:
\begin{itemize}
    \item poddziedzina administracyjna - służąca jako brama aplikacji, pozwalająca na zarządzanie użytkownikami i~administrowanie aplikacją
    \item poddziedzina produkty - skupiająca się na zarządzaniu produktami spożywczymi, ich wartościami odżywczymi i~miarami domowymi
    \item poddziedzina przepisy - pozwalająca na tworzenie i~zarządzanie przepisami, w~tym przypisywanie do przepisów produktów
    \item poddziedzina jadłospisy - pozwalająca na tworzenie i~zarządzanie jadłospisami, w~tym przypisywanie do jadłospisów produktów i~przepisów
    \item poddziedzina wizyty - skupiająca się na całościowym zarządzaniu wizytami pacjenta w~obrębie karty pacjenta, a~w szczególności przypisywaniem do wizyty jadłospisów, przeprowadzaniem wywiadu żywieniowego czy też zbierania pomiarów ciała pacjenta
\end{itemize}
%\section{Opis udziałowców i~użytkowników}
%\subsection{Podsumowanie udziałowców}

\section{Podsumowanie użytkowników systemu}\label{sec:users-summary}
\par
W tabeli \ref{tabela:uzytkownicy} przedstawiono podsumowanie użytkowników projektowanegom ich krótki opis oraz ich podstawowe odpowiedzialności związane z~korzystaniem z~systemu.

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Użytkownicy (opr.wł)\label{tabela:uzytkownicy}}
        \begin{tabular}{|P{.15\textwidth}|P{.25\textwidth}|P{.5\textwidth}|}

            \hline
            \cellgray{Nazwa} & \cellgray{Opis} & \cellgray{Odpowiedzialności}\\

            \hline
            Gość &
            Niezalogowany użytkownik &
            \begin{itemize}
                \item Zakłada konto użytkownika
                \item Wyświetla stronę główną
            \end{itemize} \\
            \hline
            Pacjent &
            Klient dietetyka &
            \begin{itemize}
                \item Otrzymuje ułożony jadłospis
            \end{itemize} \\
            \hline
            Dietetyk &
            Specjalista w~dziedzinie dietetyki &
            \begin{itemize}
                \item Używa założonego konta
                \item Wprowadza, edytuje i~usuwa produkty, przepisy i~jadłospisy
            \end{itemize} \\
            \hline
            Administrator &
            Osoba zarządzająca działaniem aplikacji &
            \begin{itemize}
                \item Przydzielanie i~odbieranie użytkownikom uprawnień
                \item Zarządzanie definicjami wartości odżywczych, typami diet, typami posiłków, typami dań i~wyposażeniem kuchennym
                \item Zarządzanie treścią witryny, informacjami kontaktowymi i~cennikiem
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

Na Rys. \ref{fig:use-case-diagram:users} przedstawiono relacje pomiędzy użytkownikami korzystając z~notacji diagramu przypadków użycia języka UML.

\image{0.7}{../uml/use_case_diagrams/users.png}{Diagram przypadków użycia~- użytkownicy}{use-case-diagram:users}

\section{Wymagania funkcjonalne}\label{sec:functional-requirements}
\par
W tabelach \ref{tabela:wymaganiaFunkcjonalneOgolne} - \ref{tabela:wymaganiaFunkcjonalneWizyty} przedstawiono wymagania funkcjonalne dla poddziedzin systemu w~postaci zestawienia potrzeb użytkowników systemu z~cechami związanymi z~realizacją danej potrzeby.
Następnie wymagania dla konkretnych poddziedzin sformalizowano w~postaci diagramów przypadków użycia języka UML odpowiednio na rysunkach \ref{fig:use-case-diagram:gateway} - \ref{fig:use-case-diagram:appointments}.

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Wymagania funkcjonalne - poddziedzina administracyjna (opr.wł)\label{tabela:wymaganiaFunkcjonalneOgolne}}
        \begin{tabular}{|P{.3\textwidth}|P{.6\textwidth}|}
            \hline
            \cellgray{Potrzeby} & \cellgray{Cechy} \\

            \hline
            Administrator potrzebuje widzieć listę użytkowników &
            \begin{itemize}
                \item Przydzielanie i~odbieranie użytkownikom uprawnień
            \end{itemize} \\
%            \hline
%            Administrator potrzebuje zarządzać witryną &
%            \begin{itemize}
%                \item Zarządzanie treścią strony głównej
%                \item Zarządzanie treścią polityki prywatności
%                \item Zarządzanie treścią warunków korzystania z~usługi
%                \item Zarządzanie treścią często zadawanych pytań
%                \item Zarządzanie informacjami kontaktowymi
%                \item Zarządzanie cennikiem
%            \end{itemize} \\
            \hline
            Użytkownik potrzebuje korzystać ze swojego konta &
            \begin{itemize}
                \item Logowanie do systemu
                \item Przypomnienie hasła
                \item Zarządzanie swoimi danymi osobowymi
            \end{itemize} \\
            \hline
            Użytkownik chce przeglądać witrynę w~swoim języku &
            \begin{itemize}
                \item Obsługa witryny w~wielu językach
            \end{itemize} \\
            \hline
            Gość potrzebuje korzystać z~systemu &
            \begin{itemize}
                \item Zakładanie konta użytkownika
                \item Wyrażenie zgody na przetwarzanie swoich danych osobowych
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\image{0.7}{../uml/use_case_diagrams/gateway.png}{Diagram przypadków użycia~- poddziedzina administracyjna}{use-case-diagram:gateway}

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Wymagania funkcjonalne - poddziedzina produkty (opr.wł)\label{tabela:wymaganiaFunkcjonalneProdukty}}
        \begin{tabular}{|P{.3\textwidth}|P{.6\textwidth}|}
            \hline
            \cellgray{Potrzeby} & \cellgray{Cechy} \\

            \hline
            Administrator potrzebuje zarządzać definicjami potrzebnymi w~produktach &
            \begin{itemize}
                \item Zarządzanie definicjami wartości odżywczych
                \item Zarządzanie kategoriami produktów
                \item Zarządzanie rodzajami diet
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje widzieć listę produktów &
            \begin{itemize}
                \item Wyszukiwanie produktów
                \item Filtrowanie produktów
                \item Dodawanie nowych produktów
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje zarządzać szczegółami produktu &
            \begin{itemize}
                \item Edytowanie i~usuwanie produktów
                \item Definiowanie wartości odżywczych dla produktu
                \item Definiowanie miar domowych dla produktu
                \item Przypisywanie produktu do kategorii i~podkategorii
                \item Definiowanie do jakich typów diet produkt nadaje się, a~do jakich nie
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\image{0.7}{../uml/use_case_diagrams/products.png}{Diagram przypadków użycia~- poddziedzina produkty}{use-case-diagram:products}

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Wymagania funkcjonalne - poddziedzina przepisy (opr.wł)\label{tabela:wymaganiaFunkcjonalnePrzepisy}}
        \begin{tabular}{|P{.3\textwidth}|P{.6\textwidth}|}
            \hline
            \cellgray{Potrzeby} & \cellgray{Cechy} \\

            \hline
            Administrator potrzebuje zarządzać definicjami potrzebnymi w~przepisach &
            \begin{itemize}
                \item Zarządzanie typami posiłków
                \item Zarządzanie typami dań
                \item Zarządzanie definicjami wyposażenia kuchennego
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje widzieć listę przepisów &
            \begin{itemize}
                \item Wyszukiwanie przepisów
                \item Filtrowanie przepisów
                \item Dodawanie nowych przepisów
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje zarządzać szczegółami przepisu &
            \begin{itemize}
                \item Edytowanie i~usuwanie przepisów
                \item Dodawanie wielu sekcji do przepisu
                \item Dodawanie do każdej sekcji listy składników
                \item Dodawanie do każdej sekcji sposobu przygotowania
                \item Dodawanie zdjęcia dania do przepisu
                \item Definiowanie czasu przygotowania posiłku
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\image{0.7}{../uml/use_case_diagrams/recipes.png}{Diagram przypadków użycia~- poddziedzina przepisy}{use-case-diagram:recipes}

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Wymagania funkcjonalne - poddziedzina jadłospisy (opr.wł)\label{tabela:wymaganiaFunkcjonalneJadlospisy}}
        \begin{tabular}{|P{.3\textwidth}|P{.6\textwidth}|}
            \hline
            \cellgray{Potrzeby} & \cellgray{Cechy} \\

            \hline
            Dietetyk potrzebuje widzieć listę jadłospisów &
            \begin{itemize}
                \item Wyszukiwanie jadłospisów
                \item Filtrowanie jadłospisów
                \item Dodawanie nowych jadłospisów
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje zarządzać szczegółami jadłospisu &
            \begin{itemize}
                \item Dodawanie, edytowanie i~usuwanie jadłospisów
                \item Definiowanie liczby dni na które będzie układany jadłospis
                \item Definiowanie liczby posiłków dziennie
                \item Definiowanie planowanego czasu każdego z~posiłków
                \item Definiowanie procentowego udziału podstawowych wartości odżywczych w~każdym posiłku
                \item Definiowanie posiłków w~jadłospisie
                \item Dodawanie produktów i~przepisów do posiłków
            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\image{0.7}{../uml/use_case_diagrams/mealplans.png}{Diagram przypadków użycia~- poddziedzina jadłospisy}{use-case-diagram:mealplans}

\begin{minipage}{\textwidth}
    \begin{table}[H]
        \centering\caption{Wymagania funkcjonalne - poddziedzina wizyty (opr.wł)\label{tabela:wymaganiaFunkcjonalneWizyty}}
        \begin{tabular}{|P{.3\textwidth}|P{.6\textwidth}|}
            \hline
            \cellgray{Potrzeby} & \cellgray{Cechy} \\

            \hline
            Dietetyk potrzebuje wyświetlać listę swoich pacjentów &
            \begin{itemize}
                \item Wyszukiwanie pacjentów
                \item Wyświetlanie listy znalezionych pacjentów
                \item Wyświetlanie listy umówionych wizyt
                \item Wyświetlanie listy oczekujących porad
                \item Dodawanie nowych pacjentów
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje zarządzać kartą pacjenta &
            \begin{itemize}
                \item Wyświetlanie i~edytowanie podstawowych informacji pacjenta
                \item Wyświetlanie listy wizyt pacjenta
                \item Wyświetlanie listy oczekujących porad pacjenta
                \item Dodawanie nowej wizyty pacjenta
            \end{itemize} \\
            \hline
            Dietetyk potrzebuje wyświetlać szczegóły wizyty pacjenta &
            \begin{itemize}
                \item Wyświetlanie i~edytowanie szczegółów wizyty pacjenta
                \item Zarządzanie pomiarami ciała pacjenta przypisanymi do wizyty
                \item Zarządzanie wywiadem żywieniowym przypisanym do wizyty
                \item Zarządzanie jadłospisem przydzielonym do wizyty
            \end{itemize} \\
            \hline
            Pacjent potrzebuje otrzymywać dietę &
            \begin{itemize}
                \item Udostępnianie pacjentowi jadłospisu
            \end{itemize} \\
            \hline
            Pacjent chce mieć wgląd w~swoją kartę &
            \begin{itemize}
                \item Logowanie do konta utworzonego w~serwisie
                \item Dodawanie kart pacjenta do swojego konta po udostępnieniu ich przez dietetyka
            \end{itemize} \\
            \hline
%            Pacjent chce wyrazić opinię o~wizycie &
%            \begin{itemize}
%                \item Ocenianie odbytej wizyty
%            \end{itemize} \\
%            \hline
%            Pacjent chce znaleźć dietetyka &
%            \begin{itemize}
%                \item Wyświetlanie listy dietetyków
%                \item Wyświetlanie profilu dietetyka
%                \item Wyświetlanie list opinii o~wybranym dietetyku
%                \item Kontakt z~wybranym dietetykiem
%            \end{itemize} \\
            %            \hline
            %            Pacjent zarządza dietą za pomocą asystenta głosowego &
            %            \begin{itemize}
            %                \item Wydawanie w~języku naturalnym poleceń dotyczących diety
            %            \end{itemize} \\
            \hline
        \end{tabular}
    \end{table}
\end{minipage}

\image{0.7}{../uml/use_case_diagrams/appointments.png}{Diagram przypadków użycia~- poddziedzina wizyty}{use-case-diagram:appointments}

\newpage

\section{Wymagania niefunkcjonalne}\label{sec:nonfunctional-requirements}
\begin{itemize}
    \item System działa poprawnie w~przeglądarkach Google~Chrome~76, Mozilla~Firefox~69, Safari~12, Opera~63, Microsoft~Edge~17
    \item System działa na urządzenia mobilnych korzystających z~systemu Android~9 i~iOS~12
    \item System jest dostępny w~polskiej i~angielskiej wersji językowej
    \item System ma czytelny i~minimalistyczny interfejs
    \item Aplikacja webowa jest w~pełni responsywna i~wygodna do używania na ekranach od~5 do~30 cali
    %    \item Aplikacja webowa udostępnia część funkcji offline
    \item Aplikacja ma być oparta na architekturze mikroserwisów
\end{itemize}
\thispagestyle{normal}

